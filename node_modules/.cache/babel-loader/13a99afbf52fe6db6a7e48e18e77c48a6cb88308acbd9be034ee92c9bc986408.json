{"ast":null,"code":"import { Cell } from \"./Cell\";\nimport { Colors } from \"./Colors\";\nimport { Pawn } from \"./figures/Pawn\";\nimport { Rook } from \"./figures/Rook\";\nimport { Knight } from \"./figures/Knight\";\nimport { Bishop } from \"./figures/Bishop\";\nimport { Queen } from \"./figures/Queen\";\nimport { King } from \"./figures/King\";\nexport class Board {\n  constructor() {\n    this.cells = [];\n  }\n  initCells() {\n    for (let j = 0; j < 8; j++) {\n      let row = [];\n      for (let i = 0; i < 8; i++) {\n        let cellID = j * 8 + i;\n        if ((i + j) % 2 === 0) {\n          row.push(new Cell(this, i, j, Colors.WHITE, null, cellID)); // Белые ячейки\n        } else {\n          row.push(new Cell(this, i, j, Colors.BLACK, null, cellID)); // Чёрные ячейки\n        }\n      }\n\n      this.cells.push(row);\n    }\n  }\n  getCell(x, y) {\n    return this.cells[y][x] || null;\n  }\n  getCellFromID(id) {\n    let cell;\n    for (let i = 0; i < this.cells.length; i++) {\n      for (let j = 0; j < this.cells[i].length; j++) {\n        if (this.cells[i][j].id === id) {\n          cell = this.cells[i][j];\n        }\n      }\n    }\n    return cell;\n  }\n  setFigures() {\n    this.cells.forEach((row, index) => {\n      if (index === 1) {\n        row.forEach(cell => new Pawn(Colors.BLACK, cell));\n      }\n      if (index === 6) {\n        row.forEach(cell => new Pawn(Colors.WHITE, cell));\n      }\n      if (index === 0) {\n        row.forEach((cell, index) => {\n          if (index === 0 || index === 7) {\n            new Rook(Colors.BLACK, cell);\n          }\n          if (index === 1 || index === 6) {\n            new Knight(Colors.BLACK, cell);\n          }\n          if (index === 2 || index === 5) {\n            new Bishop(Colors.BLACK, cell);\n          }\n          if (index === 3) {\n            new Queen(Colors.BLACK, cell);\n          }\n          if (index === 4) {\n            new King(Colors.BLACK, cell);\n          }\n        });\n      }\n      if (index === 7) {\n        row.forEach((cell, index) => {\n          if (index === 0 || index === 7) {\n            new Rook(Colors.WHITE, cell);\n          }\n          if (index === 1 || index === 6) {\n            new Knight(Colors.WHITE, cell);\n          }\n          if (index === 2 || index === 5) {\n            new Bishop(Colors.WHITE, cell);\n          }\n          if (index === 3) {\n            new Queen(Colors.WHITE, cell);\n          }\n          if (index === 4) {\n            new King(Colors.WHITE, cell);\n          }\n        });\n      }\n    });\n  }\n  availableCellsForMove(cell) {\n    this.cells.forEach(row => {\n      row.forEach(cage => {\n        var _cell$figure;\n        return cell !== null && cell !== void 0 && (_cell$figure = cell.figure) !== null && _cell$figure !== void 0 && _cell$figure.canMove(cage) ? cage.available = !cage.available : cage.available = false;\n      });\n    });\n  }\n  updatedBoard() {\n    let newBoard = new Board();\n    newBoard.cells = this.cells;\n    return newBoard;\n  }\n}","map":{"version":3,"names":["Cell","Colors","Pawn","Rook","Knight","Bishop","Queen","King","Board","constructor","cells","initCells","j","row","i","cellID","push","WHITE","BLACK","getCell","x","y","getCellFromID","id","cell","length","setFigures","forEach","index","availableCellsForMove","cage","_cell$figure","figure","canMove","available","updatedBoard","newBoard"],"sources":["/home/arthas/github/custom-chess/src/model/Board.ts"],"sourcesContent":["import { Cell } from \"./Cell\"\nimport { Colors } from \"./Colors\"\nimport { Pawn } from \"./figures/Pawn\";\nimport { Rook } from \"./figures/Rook\";\nimport { Knight } from \"./figures/Knight\";\nimport { Bishop } from \"./figures/Bishop\";\nimport { Queen } from \"./figures/Queen\";\nimport { King } from \"./figures/King\";\n\nexport class Board {\n    \n    cells: Cell[][] = []\n    \n    initCells() {\n        for (let j: number = 0; j < 8; j++) {\n            let row: Cell[] = [];\n\n            for (let i: number = 0; i < 8; i++) {\n                let cellID = j * 8 + i\n                if ((i + j) % 2 === 0) {\n                    row.push(new Cell(this, i, j, Colors.WHITE, null, cellID)) // Белые ячейки\n                } else {\n                    row.push(new Cell(this, i, j, Colors.BLACK, null, cellID)) // Чёрные ячейки\n                }\n            }\n            this.cells.push(row)\n        }\n    }\n    getCell(x: number, y: number): Cell | null {\n        return this.cells[y][x] || null\n    }\n    getCellFromID(id: number): Cell | undefined {\n        let cell: Cell;\n        for (let i = 0; i < this.cells.length; i++) {\n            for (let j = 0; j < this.cells[i].length; j++) {\n                if (this.cells[i][j].id === id) {\n                    cell = this.cells[i][j]\n                }\n            }\n        }\n        return cell\n    }\n    setFigures() {\n        this.cells.forEach((row, index) => {\n            if (index === 1) {\n                row.forEach(cell => new Pawn(Colors.BLACK, cell))\n            }\n            if (index === 6) {\n                row.forEach(cell => new Pawn(Colors.WHITE, cell))\n            }\n            if (index === 0) {\n                row.forEach((cell, index) => {\n                    if ((index === 0) || (index === 7)) {\n                        new Rook(Colors.BLACK, cell)\n                    }\n                    if ((index === 1) || (index === 6)) {\n                        new Knight(Colors.BLACK, cell)\n                    }\n                    if ((index === 2) || (index === 5)) {\n                        new Bishop(Colors.BLACK, cell)\n                    }\n                    if (index === 3) {\n                        new Queen(Colors.BLACK, cell)\n                    }\n                    if (index === 4) {\n                        new King(Colors.BLACK, cell)\n                    }\n                })\n            }\n            if (index === 7) {\n                row.forEach((cell, index) => {\n                    if ((index === 0) || (index === 7)) {\n                        new Rook(Colors.WHITE, cell)\n                    }\n                    if ((index === 1) || (index === 6)) {\n                        new Knight(Colors.WHITE, cell)\n                    }\n                    if ((index === 2) || (index === 5)) {\n                        new Bishop(Colors.WHITE, cell)\n                    }\n                    if (index === 3) {\n                        new Queen(Colors.WHITE, cell)\n                    }\n                    if (index === 4) {\n                        new King(Colors.WHITE, cell)\n                    }\n                })\n            }\n        })\n    }\n    availableCellsForMove(cell: Cell | null) {\n        this.cells.forEach(row => {\n            row.forEach(cage => cell?.figure?.canMove(cage) ? cage.available = !cage.available : cage.available = false)\n        })\n    }\n    updatedBoard() {\n        let newBoard = new Board();\n        newBoard.cells = this.cells;\n        return newBoard\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}